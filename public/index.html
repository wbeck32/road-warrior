<!DOCTYPE html>
<html data-ng-app="roadWarrior" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>Road Warrior</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/styles.css">
  </head>

  <body>
  <!-- <div class="toggle-popover">
     <!-- <div class="headerPop" style="height:45px;background-color:none">
        <span style="">
          <img id="logo" src="images/logo-transparent-35px.png" alt="Road warrior logo" />
        </span>
        <!--<span style="display:inline-block;float:right;padding:10px">
          <img class="profileimg" src="images/profile.jpg" alt="profile pic" /> 
            <span class="slideLink noHint">profile</span>&nbsp;|&nbsp;
            <span class="slideLink noHint">sign out</span>
        </span>
     <!-- </div>
 <!-- </div>-->

    <!--  <li>
  <img src="images/elevation_icon.png" style="width:20px;margin:6px 4px 0 0"/>
  <img src="images/locationIcon.svg" style="width:20px;margin:6px 4px 0 0"/>
    </li>
 -->
<div class="logo"> <img src="images/logo-transparent-35px.png" alt="Road warrior logo" /></div>   
<div id="map-canvas"></div>
<div id="elevation-chart" class="hideChart"></div>  
<div class="sideMenu">  

  <div class="tabList">
    <div class="tab trekListTab" aria-controls="trekList">my treks</div>
    <div class="tab currentTab" aria-controls="current">current trek</div>
    <div class="tab directionsTab" aria-controls="directions">directions</div>
  </div>

  <div class="sidebarContent" data-ng-controller="TrekController as Trek" role="navigation">  

    <div class="panel currentPanel">
      <div class="sidebarSection" id="trekDetails" data-ng-cloak>
        <span data-ng-click="Trek.editName()" data-ng-hide="Trek.showEditName" class="slideLink">{{Trek.name}}</span>
        <span style="float:right">
            <span class="slideLink noHint" data-ng-click="Trek.saveTrek()" style="float:left">save trek</span>&nbsp;|&nbsp;
            <span class="slideLink noHint" data-ng-click="Trek.clearTrek()" style="float:right">delete trek</span>
        </span>
        
        <form data-ng-show="Trek.showEditName">
          <input type="text" data-ng-model="Trek.name" data-ng-blur="Trek.editName()" placeholder="Name your trek"/>
        </form>

      <div id="legList">
        <div data-ng-repeat="leg in Trek.legs track by $index" class="leg" data-ng-class-odd="'odd'">
          <span data-ng-click="Trek.toggleDetails($index)">
          <span class="slideLink">
            <span class="bold">{{leg.origin.index}}</span>
              {{Trek.markerName(leg.origin)}} => 
            <span class="bold">{{leg.dest.index}}</span>
              {{Trek.markerName(leg.dest)}}
          </span>
          <span style="float:right;" class="slideLink noHint" data-ng-click="Trek.removeLeg($index)">delete</span>


      <div data-ng-show="Trek.showDetails[$index]" class="legOptions">
        <form data-ng-submit="Trek.toggleDetails($index)">
          <div><label>origin name: </label><input type="text" data-ng-model="leg.origin.name" /></div>
          <div><label>destination name: </label><input type="text" data-ng-model="leg.dest.name" /></div>
            travel mode: <select data-ng-model="leg.travelMode" data-ng-change="leg.getDirections()">
            <option value="WALKING">Walking</option>
            <option value="DRIVING">Driving</option>
            <option value="BICYCLING">Bicycling</option>
            <option value="TRANSIT">Transit</option>
            </select>
          <input type="submit" data-ng-hide="true"/>
          </form>
          <div>Net Elevation Gain: {{ leg.dest.elevation - leg.origin.elevation | metersToFeet }} feet</div>
          <div>Distance: {{ leg.rend.directions.routes[0].legs[0].distance.value | metersToMiles }} miles</div>
        </div>

      </div>

      <div class="bold totalDistance" data-ng-cloak>total distance: {{ Trek.legs|totalDistance | metersToMiles }} miles</div>

     </div> 
     </div>
    </div>

    <div class="panel trekListPanel">
      <div class="sidebarSection" id="trekList">
        <div class="myTreks bold">My Treks&nbsp;&nbsp;&nbsp;
          <input type="search" style="font-weight:normal" data-ng-model="search.name" placeholder="Search your treks">
        </div>
        <div class="trekList trek" data-ng-repeat="trek in Trek.treks | filter:search" data-ng-cloak>
          <span class="slideLink retrieve" data-ng-click="Trek.renderTrek(trek)">{{trek.name}}</span>
          <span class="slideLink noHint" data-ng-click="Trek.deleteTrek(trek)" style="float:right">reset trek</span>
        </div>
      </div>
    </div>

    <div class="panel directionsPanel">
      <div class="sidebarSection" id="directions" style="border:1px solid red">
        Directions
      </div>
    </div>

  </div>
</div>

<!-- Vendor Libs: angular and googlemaps -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3&amp;key=AIzaSyBr6dZhzQB3XGxJHYbXR2jGOusupVyas1E"></script>   
    <script src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['corechart']}]}"></script>
<!--    <script src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;packages=columnchart"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="js/app/app.js"></script>
    <script src="js/app/mapStyles.js"></script>
    <script src="js/app/services.js"></script>
    <script src="js/app/factories.js"></script>
    <script src="js/app/controllers.js"></script>
    <script src="js/app/filters.js"></script>
    <script src="js/app/functions.js"></script>
  </body>
</html>
